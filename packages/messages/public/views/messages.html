<toaster-container></toaster-container>
<section id="container" >
<!--header start-->
<header class="header fixed-top clearfix" data-ng-controller="HeaderController"> 
<!--logo start-->
<my-logo></my-logo>
<!--logo end-->

<div class="nav notify-row" id="top_menu" >
    <!--  notification start -->
    <my-menu global="global"></my-menu>
    <!--  notification end -->
</div>
<div class="top-nav clearfix">
    <!--search & user info start-->
    <my-user-menu userinfo="userinfo"></my-user-menu>
</div>
</header>

<my-left-menu></my-left-menu>

<!--sidebar end-->
    <!--main content start-->
     <section id="main-content">
        <section class="wrapper" data-ng-controller="MessageController" ng-init="$emit('LoadJs')">
        <!-- page start-->
        <div class="row">
  <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade" >
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">Ã—</button>
                                        <h4 class="modal-title">Compose Message</h4>
                                    </div>
                                    <div class="modal-body">

                                        <form role="form" data-ng-submit="send()">
                                            <div class="form-group">
                                                <label for="exampleInputEmail1">To</label>
                                                <input type="hidden" id="selectRecipient" style="width:100%" />
                                            </div>

                                            <div class="form-group">
                                                <label for="exampleInputFile">Attachment</label>
                                                <input type="file" id="uploadfile" ng-file-select="onFileSelect($files)" >

                                            </div>

                                            <div class="form-group">
                                                <label for="exampleInputPassword1">Message</label>
                                                <textarea required data-ng-model="message"  name="message" class="form-control" rows="6"></textarea>
                                            
                                              
                                            </div>

                                            <button type="submit" class="btn btn-default">Submit</button>
                                            <label for="exampleInputRepeat">Repeat</label>
                                            <input  type="checkbox" id="repeatcheckbox" ng-model="repeatChecked" ng-init="repeatChecked=false" ng-click="occurChecked=false;$emit('LoadTimePicker');"/>
                                            <label for="exampleInputRepeat">Occur</label>
                                            <input  type="checkbox" id="occurcheckbox" ng-model="occurChecked" ng-init="occurChecked=false" ng-click="repeatChecked=false;$emit('LoadDateTimePicker');"/>
                                            <div class="form-group" ng-if="repeatChecked">
                                                <table class="ep-rec" role="presentation">
                                                      <tbody>
                                                        <tr>
                                                          <th>
                                                            Repeat on:
                                                          </th>
                                                          <td >
                                                            <div id="selectWeekly">
                                                              <span >
                                                                <input name="0" type="checkbox" aria-label="Repeat on Sunday" title="Sunday">
                                                                <label for="0" title="Sunday">
                                                                  Sun
                                                                </label>
                                                              </span>
                                                              <span >
                                                                <input name="1" type="checkbox" aria-label="Repeat on Monday" title="Monday">
                                                                <label for="1" title="Monday">
                                                                  Mon
                                                                </label>
                                                              </span>
                                                              <span >
                                                                <input name="2" type="checkbox" aria-label="Repeat on Tuesday" title="Tuesday">
                                                                <label for="2" title="Tuesday">
                                                                  Tue
                                                                </label>
                                                              </span>
                                                              <span >
                                                                <input  name="3" type="checkbox" aria-label="Repeat on Wednesday" title="Wednesday">
                                                                <label for="3" title="Wednesday">
                                                                  Wed
                                                                </label>
                                                              </span>
                                                              <span >
                                                                <input  name="4" type="checkbox" aria-label="Repeat on Thursday" title="Thursday">
                                                                <label for="4" title="Thursday">
                                                                  Thu
                                                                </label>
                                                              </span>
                                                              <span >
                                                                <input name="5" type="checkbox" aria-label="Repeat on Friday" title="Friday">
                                                                <label for="5" title="Friday">
                                                                  Fri
                                                                </label>
                                                              </span>
                                                              <span >
                                                                <input name="6" type="checkbox" aria-label="Repeat on Saturday" title="Saturday">
                                                                <label for="6" title="Saturday">
                                                                  Sat
                                                                </label>
                                                              </span>
                                                            </div>
                                                          </td>
                                                        </tr>
                                                        <tr> 
                                                            <th> At time</th>
                                                            <td> 
                                                            <div class='input-group date' ng-click="$emit('LoadTimePicker');">
                                                                    <input id="ontime" name="ontime" type='text' class="form-control" ng-click="showPicker()" />
                                                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                                                                    </span>
                                                            </div>

                                                            </td>
                                                        </tr>
                                                        
                                                      </tbody>
                                                  
                                                    </table>
                                              
                                            </div>
                                            <div class="form-group" ng-if="occurChecked">
                                                <table class="ep-rec" role="presentation">
                                                      <tbody>
                                                        <tr> 
                                                            <th> On day</th>
                                                            <td> 
                                                            <div class='input-group date' ng-click="$emit('LoadDateTimePicker');">
                                                                    <input  id="ondatetime" name="ondatetime" type='text' class="form-control" ng-click="showPicker()" />
                                                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                                                                    </span>
                                                            </div>

                                                            </td>
                                                        </tr>
                                                      </tbody>
                                                  
                                                    </table>
                                              
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
<div aria-hidden="true" aria-labelledby="myModalLabelDetail" role="dialog" tabindex="-2" id="myModalDetail" class="modal fade" >
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title">From</h4>
                                    </div>
                                    <div class="modal-body">

                                    </div>
                                     <div class="modal-footer" ng-show="isInbox">
                                        <button type="button" ng-click="quickReply()" class="btn btn-info" data-dismiss="modal">Reply</button>
                                        <button type="button" ng-click="deleteMessage()" class="btn btn-danger" data-dismiss="modal">Delete</button>
                                     </div>
                                </div>
                            </div>
                        </div>
            <div class="col-sm-3">
                <section class="panel">
                    <div class="panel-body">
                        <a href="#myModal" data-toggle="modal" class="btn btn-compose">
                            Compose Mail
                        </a>


                        <ul class="nav nav-pills nav-stacked mail-nav">
                            <li class="{{inboxActive}}"><a href="#" ng-click="inbox()"> <i class="fa fa-inbox"></i> Inbox  <span class="label label-danger pull-right inbox-notification" data-ng-if="global.unreadInbox > 0">{{ global.unreadInbox }}</span></a></li>
                            <li><a href="#"> <i class="fa fa-envelope-o"></i> Sent Mail</a></li>
                            <li><a href="#"> <i class="fa fa-certificate"></i> Important</a></li>
                            <li class="{{scheduleActive}}"><a href="#" ng-click="schedule()"> <i class="fa fa-clock-o"></i> Schedule</a></li>
                            <li><a href="#"> <i class="fa fa-file-text-o"></i> Drafts </a></a></li>
                         <li class="{{trashActive}}"><a href="#" ng-click="trash()"> <i class="fa fa-trash-o"></i> Trash</a></li>
                        </ul>
                    </div>
                </section>
            </div>
            <div class="col-sm-9">
                <section class="panel">
                    <header class="panel-heading wht-bg">
                       <h4 class="gen-case">{{heading}} ({{totals}}) <img src="/public/lib/images/ajax-loader.gif" ng-show="showLoading">
                        <form action="#" class="pull-right src-position">
                            <div class="input-append">
                                <input type="text" ng-model="searchText" class="form-control " placeholder="Search Mail">
                            </div>
                        </form>
                       </h4>
                    </header>
                    <div class="panel-body minimal">
                        <div class="mail-option">
                            <div class="chk-all">
                                <div class="pull-left mail-checkbox ">
                                    <input id="checkAll" type="checkbox" class="" ng-click="checkAll()" >
                                </div>

                                <div class="btn-group">
                                    <a data-toggle="dropdown" href="#" class="btn mini all">
                                        All
                                        <i class="fa fa-angle-down "></i>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a href="#" ng-click="selectNone()"> None</a></li>
                                        <li><a href="#" ng-click="selectRead()" > Read</a></li>
                                        <li><a href="#" ng-click="selectUnread()" > Unread</a></li>
                                    </ul>
                                </div>
                            </div>

                            <div class="btn-group">
                                <a ng-click="find()" data-original-title="Refresh" data-placement="top" data-toggle="dropdown" href="#" class="btn mini tooltips">
                                    <i class=" fa fa-refresh"></i>
                                </a>
                            </div>
                            <div class="btn-group hidden-phone">
                                <a data-toggle="dropdown" href="#" class="btn mini blue">
                                    More
                                    <i class="fa fa-angle-down "></i>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="#" ng-click="massRead()" ng-show="isInbox" ><i class="fa fa-pencil"></i> Mark as Read</a></li>
                                    <li class="divider" ng-show="isInbox"></li>
                                    <li><a href="#" ng-click="massDelete()" ><i class="fa fa-trash-o"></i> Delete</a></li>
                                </ul>
                            </div>

                            <ul class="unstyled inbox-pagination">
                                <li><span>{{fromOffset}}-{{toOffset}} of {{totals}}</span></li>
                                <li>
                                    <a class="np-btn" href="#" ng-click="previousPage()"><i class="fa fa-angle-left  pagination-left"></i></a>
                                </li>
                                <li>
                                    <a class="np-btn" href="#" ng-click="nextPage()"><i class="fa fa-angle-right pagination-right"></i></a>
                                </li>
                            </ul>
                        </div>
                        <div class="table-inbox-wrap ">
                            <table class="table table-inbox table-hover" data-ng-init="find()" ng-click="predicate = 'name'; reverse=false">
                        <tbody>


                            <tr class="{{message.status}}" data-ng-repeat="message in messages| filter:searchText | orderBy:'-dateSent' ">
                            

                                 <td class="inbox-small-cells">
                                <input rel="{{message._id}}" type="checkbox" class="mail-checkbox">
                            </td>
                            <td class="inbox-small-cells"><i class="fa fa-star"></i></td>
                            <td class="view-message  dont-show" ng-click="showModal(message)" > {{message.fromName}} </td>
                            <td class="view-message " ng-click="showModal(message)"> <div ng-bind-html="message.message"></div> </td>
                            <td class="view-message  inbox-small-cells" ng-click="showModal(message)"><i ng-if="message.file != ''" class="fa fa-paperclip"></i></td>
                            <td class="view-message  text-right" ng-click="showModal(message)">{{message.dateSent | date:'medium'}}</td>

                            </tr>
                       

                 
                        </tbody>
                        </table>

                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- page end-->
        </section>
    </section>
    <!--main content end-->
    <!--main content end-->
<!--right sidebar start-->
<div class="right-sidebar">
<div class="search-row">
    <input type="text" placeholder="Search" class="form-control">
</div>
<ul class="right-side-accordion">
<my-online-list global="global" onlines="onlines" data-ng-controller="DashboardController" data-ng-init="userOnline()"></my-online-list>
<recent-activity global="global" activities="activities" data-ng-controller="DashboardController" data-ng-init="recentActivity()"></recent-activity>

</ul>
</div>
<!--right sidebar end-->

</section>